        -:    0:Source:tests/test.c
        -:    1:#include "../src/hydra.h"
        -:    2:#include <string.h>
        -:    3:#include <assert.h>
        -:    4:#include <stdio.h>
        -:    5:
        2:    6:void TestStart(char *name) {
        2:    7:  setbuf(stdout, NULL);
        -:    8:  printf("-- Testing %s\n", name);
        2:    9:}
        -:   10:
        1:   11:void TestNewCommand() {
        1:   12:  TestStart("NewCommand");
        -:   13:
        1:   14:  Command *cmd = NewCommand('k', "name", "command");
        -:   15:
       1*:   16:  assert(cmd != NULL);
       1*:   17:  assert(cmd->key == 'k');
       1*:   18:  assert(cmd->name != NULL && strcmp(cmd->name, "name") == 0);
       1*:   19:  assert(cmd->command != NULL && strcmp(cmd->command, "command") == 0);
       1*:   20:  assert(cmd->children == NULL);
       1*:   21:  assert(cmd->next == NULL);
        1:   22:}
        -:   23:
        1:   24:void TestCommandAddChild() {
        1:   25:  TestStart("CommandAddChild");
        -:   26:
        1:   27:  Command *parent = NewCommand(0, 0, 0);
        1:   28:  Command *firstChild = NewCommand('a', 0, 0);
        1:   29:  Command *secondChild = NewCommand('b', 0, 0);
        1:   30:  Command *thirdChild = NewCommand('c', 0, 0);
        -:   31:
        1:   32:  CommandAddChild(parent, thirdChild);
        1:   33:  CommandAddChild(parent, firstChild);
        1:   34:  CommandAddChild(parent, secondChild);
        -:   35:
       1*:   36:  assert(parent->children == firstChild);
       1*:   37:  assert(parent->children->next == secondChild);
       1*:   38:  assert(parent->children->next->next == thirdChild);
        1:   39:}
        -:   40:
        1:   41:int main() {
        1:   42:  TestNewCommand();
        1:   43:  TestCommandAddChild();
        -:   44:}
