<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>lib2bit: 2bit.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">lib2bit
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">2bit.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
</div>
<p><a href="2bit_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTwoBitHeader.html">TwoBitHeader</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure holds the fixed-sized file header (16 bytes, of which 4 are blank). The version should always be 0. In theory, the endianness of the magic number can change (indicating that everything in the file should be swapped). As I've never actually seen this occur in the wild I've not bothered implementing it, though it'd be simple enough to do so.  <a href="structTwoBitHeader.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTwoBitCL.html">TwoBitCL</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure holds the chromosome names and the offset to the on-disk beginning of their sequences.  <a href="structTwoBitCL.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTwoBitMaskedIdx.html">TwoBitMaskedIdx</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure holds the number, location and size of the hard (N) and soft (lower case) masked blocks.  <a href="structTwoBitMaskedIdx.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTwoBit.html">TwoBit</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the main structure for holding a 2bit file.  <a href="structTwoBit.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3bbace8d1f403109f4482c4a8f37819e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTwoBit.html">TwoBit</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="2bit_8h.html#a3bbace8d1f403109f4482c4a8f37819e">twobitOpen</a> (char *fname, int storeMasked)</td></tr>
<tr class="memdesc:a3bbace8d1f403109f4482c4a8f37819e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens a local 2bit file.  <a href="#a3bbace8d1f403109f4482c4a8f37819e">More...</a><br /></td></tr>
<tr class="separator:a3bbace8d1f403109f4482c4a8f37819e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeabdfb9b879ed7a0c8453bf040d3945b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeabdfb9b879ed7a0c8453bf040d3945b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="2bit_8h.html#aeabdfb9b879ed7a0c8453bf040d3945b">twobitClose</a> (<a class="el" href="structTwoBit.html">TwoBit</a> *tb)</td></tr>
<tr class="memdesc:aeabdfb9b879ed7a0c8453bf040d3945b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes a 2bit file and free memory. <br /></td></tr>
<tr class="separator:aeabdfb9b879ed7a0c8453bf040d3945b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec89d93a3667f51082823e12f2227630"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="2bit_8h.html#aec89d93a3667f51082823e12f2227630">twobitChromLen</a> (<a class="el" href="structTwoBit.html">TwoBit</a> *tb, char *chrom)</td></tr>
<tr class="memdesc:aec89d93a3667f51082823e12f2227630"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the length of a given chromosome.  <a href="#aec89d93a3667f51082823e12f2227630">More...</a><br /></td></tr>
<tr class="separator:aec89d93a3667f51082823e12f2227630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a378fa97e1abcd2d00c92ac31546b6fe1"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="2bit_8h.html#a378fa97e1abcd2d00c92ac31546b6fe1">twobitSequence</a> (<a class="el" href="structTwoBit.html">TwoBit</a> *tb, char *chrom, uint32_t start, uint32_t end)</td></tr>
<tr class="memdesc:a378fa97e1abcd2d00c92ac31546b6fe1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the sequence of a chromosome/contig or range of it.  <a href="#a378fa97e1abcd2d00c92ac31546b6fe1">More...</a><br /></td></tr>
<tr class="separator:a378fa97e1abcd2d00c92ac31546b6fe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3699aed9bd1442e8fcb22fe51a579139"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="2bit_8h.html#a3699aed9bd1442e8fcb22fe51a579139">twobitBases</a> (<a class="el" href="structTwoBit.html">TwoBit</a> *tb, char *chrom, uint32_t start, uint32_t end, int fraction)</td></tr>
<tr class="memdesc:a3699aed9bd1442e8fcb22fe51a579139"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number/fraction of A, C, T, and G in a chromosome/region.  <a href="#a3699aed9bd1442e8fcb22fe51a579139">More...</a><br /></td></tr>
<tr class="separator:a3699aed9bd1442e8fcb22fe51a579139"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>These are all functions and structures exported in lib2bit. There are a few things that could be more efficiently implemented, but at the moment theverything is "fast enough". </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3699aed9bd1442e8fcb22fe51a579139"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* twobitBases </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTwoBit.html">TwoBit</a> *&#160;</td>
          <td class="paramname"><em>tb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>chrom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fraction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the number/fraction of A, C, T, and G in a chromosome/region. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tb</td><td>A pointer to a <a class="el" href="structTwoBit.html" title="This is the main structure for holding a 2bit file. ">TwoBit</a> object. </td></tr>
    <tr><td class="paramname">chrom</td><td>The chromosome name. </td></tr>
    <tr><td class="paramname">start</td><td>The starting position in 0-based coordinates. </td></tr>
    <tr><td class="paramname">end</td><td>The end position in 1-based coordinates. </td></tr>
    <tr><td class="paramname">fraction</td><td>Whether to return the values as fractions (1) or integers (0). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If fraction is not 0, then 4 <code>double</code>s with the fraction of bases as A, C, T and G, respectively. If fraction is 1, integer counts are returned as 4 <code>uint32_t</code>s in the aforementioned order. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>On error NULL is returned. The result MUST be <code>free()</code>d. </dd></dl>

</div>
</div>
<a class="anchor" id="aec89d93a3667f51082823e12f2227630"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t twobitChromLen </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTwoBit.html">TwoBit</a> *&#160;</td>
          <td class="paramname"><em>tb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>chrom</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the length of a given chromosome. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tb</td><td>A pointer to a <a class="el" href="structTwoBit.html" title="This is the main structure for holding a 2bit file. ">TwoBit</a> object. </td></tr>
    <tr><td class="paramname">chrom</td><td>The chromosome name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The chromosome length as a uint32_t. Note that if the chromosome/contig isn't present in the file that 0 is returned. </dd></dl>

</div>
</div>
<a class="anchor" id="a3bbace8d1f403109f4482c4a8f37819e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structTwoBit.html">TwoBit</a>* twobitOpen </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>storeMasked</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens a local 2bit file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fname</td><td>The name of the 2bit file. </td></tr>
    <tr><td class="paramname">storeMasked</td><td>Whether soft-masking information should be stored. If this is 1 then soft-masking information will be stored and the <code><a class="el" href="2bit_8h.html#a378fa97e1abcd2d00c92ac31546b6fe1" title="Returns the sequence of a chromosome/contig or range of it. ">twobitSequence()</a></code> function will return lower case letters in soft-masked regions. Note that this has a considerable performance and memory impact. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to a <a class="el" href="structTwoBit.html" title="This is the main structure for holding a 2bit file. ">TwoBit</a> object. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The file is memory mapped. </dd></dl>

</div>
</div>
<a class="anchor" id="a378fa97e1abcd2d00c92ac31546b6fe1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* twobitSequence </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTwoBit.html">TwoBit</a> *&#160;</td>
          <td class="paramname"><em>tb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>chrom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the sequence of a chromosome/contig or range of it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tb</td><td>A pointer to a <a class="el" href="structTwoBit.html" title="This is the main structure for holding a 2bit file. ">TwoBit</a> object. </td></tr>
    <tr><td class="paramname">chrom</td><td>The chromosome name. </td></tr>
    <tr><td class="paramname">start</td><td>The starting position in 0-based coordinates. </td></tr>
    <tr><td class="paramname">end</td><td>The end position in 1-based coordinates. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The sequence or NULL on error. If both start and end are 0 then the sequence for the entire chromosome/contig is returned. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The result MUST be <code>free()</code>d. Care is taken to return reasonable sequences when illegal regions are requested. If the end value is beyond the possible end of the chromosome then it is modified according. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jul 31 2016 23:13:15 for lib2bit by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
